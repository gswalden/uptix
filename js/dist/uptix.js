"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();window.u={$:function(e,t){return(t||document).querySelectorAll(e)},$1:function(e,t){return(t||document).querySelector(e)},jsonp:function(e,t){var n=new XMLHttpRequest;return n.open("GET",e),n.onload=function(e){var n=e.currentTarget.response||e.target.responseText;n=JSON.parse(n),t(n)},n.send(),n},css:function(e,t){for(var n in t)e.style[n]=t[n]},hasClass:function(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)},addClass:function(e,t){e.classList?e.classList.add(t):this.hasClass(e,t)||(e.className+=" "+t)},removeClass:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("\\b"+t+"\\b","g"),"")},toggleClass:function(e,t){this.hasClass(e,t)?this.removeClass(e,t):this.addClass(e,t)}},!function(e,t,n){function s(e){return t.createElement(e)}function i(e,t){return Math.floor(Math.random()*(t-e))+e}var r=function(){function e(t,s,i,r){_classCallCheck(this,e),this.symbol=t,this.price=+s,this.close=+i,this.prevPrice=null,this.el=r||this.buildEl(),this.$symbol=n.$1(".symbol",this.el),this.$price=n.$1(".price",this.el),this.$percent=n.$1(".percent",this.el),this.outputFields()}return _createClass(e,[{key:"buildEl",value:function(){var e=s("div");return e.className="ticker",["symbol","price","percent"].forEach(function(t){var n=s("div");n.className=t,e.appendChild(n)}),n.$1("#more").appendChild(e),e}},{key:"outputFields",value:function(e){var t=this;e?e.forEach(function(e){switch(e){case"symbol":t.updateSymbol();break;case"price":t.updatePrice();break;case"time":t.updatePercentage()}}):this.updateSymbol().updatePrice(this.price,!0).updatePercentage()}},{key:"updateSymbol",value:function(e){return e=e||this.symbol,this.$symbol.textContent=e,this}},{key:"updatePrice",value:function(e,t){if(e!=this.price||t){this.prevPrice=this.price,this.price=+e;var s=this.price.toFixed(2),i=this.prevPrice.toFixed(2);this.$price.innerHTML=this.addSpan(s);for(var r=n.$("span",this.$price),a=this.price>this.prevPrice?"up":"down",c=this.findChangedDigits(s,i),l=r.length;l--;)c.indexOf(l)>-1&&n.addClass(r[l],a)}return this}},{key:"findChangedDigits",value:function(e,t){for(var n=[],s=t.length,i=e.length;i--;)s--,/\d/.test(e[i])&&(0>s||e[i]!=t[s])&&n.push(i);return n}},{key:"updatePercentage",value:function(){var e=(this.price-this.close)/this.close*100,t=e>0?"+":"";return this.$percent.textContent=t+e.toFixed(2)+"%",this}},{key:"addSpan",value:function(e){return e.split("").map(function(e){return"<span>"+e+"</span>"}).join("")}}]),e}();e.bigTicker=new r("AAPL",127.42,127,n.$1("#current")),e.smallTickers=[new r("GOOG",526.23,526.4),new r("TSLA",256,256),new r("SSYS",37.06,37.9),new r("MSFT",45.65,45.6)],setInterval(function(){smallTickers.concat(bigTicker).forEach(function(e){var t=e.price,n=i(0,2);1===n?t+=.01:t-=.01,e.updatePrice(t).updatePercentage()})},1e3);var a=n.$1("#progress");setInterval(function(){var e=parseInt(a.style.width.replace("%",""),10)||0;e+=1,e>100&&(e=0),a.style.width=e+"%",n.$1("#time-text span").textContent=e},1200)}(window,document,window.u);
//# sourceMappingURL=maps/uptix.js.map