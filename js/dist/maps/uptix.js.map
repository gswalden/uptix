{"version":3,"sources":["uptix.js","noquery.js","scripts.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","window","u","$","selector","context","document","querySelectorAll","$1","querySelector","jsonp","url","success","xhr","XMLHttpRequest","open","onload","request","response","currentTarget","responseText","JSON","parse","send","css","el","styles","property","style","hasClass","className","classList","contains","RegExp","test","addClass","add","this","removeClass","remove","replace","toggleClass","make","tag","createElement","getRandomInt","min","max","Math","floor","random","Ticker","symbol","price","close","prevPrice","buildEl","$symbol","$price","$percent","outputFields","value","forEach","name","child","appendChild","list","_this","item","updateSymbol","updatePrice","updatePercentage","textContent","first","currPriceStr","toFixed","prevPriceStr","innerHTML","addSpan","$spans","direction","changed","findChangedDigits","len","indexOf","curr","prev","prevLen","currLen","push","percent","math","string","split","map","char","join","bigTicker","smallTickers","setInterval","concat","ticker","num","$progress","width","parseInt"],"mappings":"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","file":"uptix.js","sourcesContent":[null,"// A bunch of stuff jquery does, but much lighter\nwindow.u = {\n  $: function(selector, context) {\n    return (context || document).querySelectorAll(selector);\n  },\n  $1: function(selector, context) {\n    return (context || document).querySelector(selector);\n  },\n  jsonp: function(url, success) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url);\n    xhr.onload = function(request) {\n      var response = request.currentTarget.response || request.target.responseText;\n      response = JSON.parse(response);\n      success(response);\n    };\n    xhr.send();\n    return xhr;\n  },\n  css: function(el, styles) {\n    for (var property in styles)\n      el.style[property] = styles[property];\n  },\n  hasClass: function(el, className) {\n    return el.classList ? el.classList.contains(className) : new RegExp('\\\\b' + className + '\\\\b').test(el.className);\n  },\n  addClass: function(el, className) {\n    if (el.classList) el.classList.add(className);\n    else if (!this.hasClass(el, className)) el.className += ' ' + className;\n  },\n  removeClass: function(el, className) {\n    if (el.classList) el.classList.remove(className);\n    else el.className = el.className.replace(new RegExp('\\\\b' + className + '\\\\b', 'g'), '');\n  },\n  toggleClass: function(el, className) {\n    if (this.hasClass(el, className)) this.removeClass(el, className);\n    else this.addClass(el, className);\n  }\n};\n\n","!(function(window, document, u) {\n  class Ticker {\n    constructor(symbol, price, close, el) {\n      this.symbol = symbol;\n      this.price = +price;\n      this.close = +close;\n      this.prevPrice = null;\n      this.el = el || this.buildEl();\n      this.$symbol = u.$1('.symbol', this.el);\n      this.$price = u.$1('.price', this.el);\n      this.$percent = u.$1('.percent', this.el);\n      this.outputFields();\n    }\n    buildEl() {\n      var el = make('div');\n      el.className = 'ticker';\n      ['symbol', 'price', 'percent'].forEach(function(name) {\n        var child = make('div');\n        child.className = name;\n        el.appendChild(child);\n      });\n      u.$1('#more').appendChild(el);\n      return el;\n    }\n    outputFields(list) {\n      if (list) {\n        list.forEach(item => {\n          switch (item) {\n            case 'symbol':\n              this.updateSymbol();\n              break;\n            case 'price':\n              this.updatePrice();\n              break;\n            case 'time':\n              this.updatePercentage();\n              break;\n          }\n        });\n      } else {\n        this.updateSymbol()\n          .updatePrice(this.price, true)\n          .updatePercentage();\n      }\n    }\n    updateSymbol(symbol) {\n      symbol = symbol || this.symbol;\n      this.$symbol.textContent = symbol;\n      return this;\n    }\n    updatePrice(price, first) {\n      if (price != this.price || first) {\n        this.prevPrice = this.price;\n        this.price = +price;\n        var currPriceStr = this.price.toFixed(2);\n        var prevPriceStr = this.prevPrice.toFixed(2);\n        \n        this.$price.innerHTML = this.addSpan(currPriceStr);\n        var $spans = u.$('span', this.$price);\n        var direction = (this.price > this.prevPrice) ? 'up' : 'down';\n        var changed = this.findChangedDigits(currPriceStr, prevPriceStr);\n        var len = $spans.length;\n        while (len--) {\n          if (changed.indexOf(len) > -1) {\n            u.addClass($spans[len], direction);\n          }\n        }\n      }\n      return this;\n    }\n    findChangedDigits(curr, prev) {\n      var changed = [];\n      var prevLen = prev.length;\n      var currLen = curr.length;\n      while (currLen--) {\n        prevLen--;\n        if (/\\d/.test(curr[currLen]) &&\n          (prevLen < 0 || curr[currLen] != prev[prevLen])\n        ) {\n          changed.push(currLen);\n        }\n      }\n      return changed;\n    }\n    updatePercentage() {\n      var percent = (this.price - this.close) / this.close * 100;\n      var math = (percent > 0) ? '+' : '';\n      this.$percent.textContent = math + percent.toFixed(2) + '%';\n      return this;\n    }\n    addSpan(string) {\n      return string.split('').map(function(char) {\n        return '<span>' + char + '</span>';\n      }).join('');\n    }\n  }\n\n  function make(tag) {\n    return document.createElement(tag);\n  }\n  function twoDecimals(num) {\n    return Math.floor(num * 100) / 100;\n  }\n  function getRandomInt(min, max) {\n    return Math.floor(Math.random() * (max - min)) + min;\n  }\n\n  window.bigTicker = new Ticker('AAPL', 127.42, 127, u.$1('#current'));\n  window.smallTickers = [\n    new Ticker('GOOG', 526.23, 526.4),\n    new Ticker('TSLA', 256, 256),\n    new Ticker('SSYS', 37.06, 37.9),\n    new Ticker('MSFT', 45.65, 45.6)\n  ];\n\n  setInterval(function() {\n    smallTickers.concat(bigTicker).forEach(function(ticker) {\n      var price = ticker.price;\n      var num = getRandomInt(0, 2);\n      if (num === 1) {\n        price += 0.01;\n      } else {\n        price -= 0.01;\n      }\n      ticker.updatePrice(price).updatePercentage();\n    });\n  }, 1000);\n\n  var $progress = u.$1('#progress');\n  setInterval(function() {\n    var width = parseInt($progress.style.width.replace('%', ''), 10) || 0;\n    width += 5;\n    if (width > 100) width = 0;\n    $progress.style.width = width + '%';\n  }, 10000);\n})(window, document, window.u);\n"],"sourceRoot":"/source/"}